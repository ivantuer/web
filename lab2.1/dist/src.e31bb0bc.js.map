{"version":3,"sources":["js/model.js","js/controller.js","js/view.js","index.js"],"names":["WYSIWYGModel","document","execCommand","e","target","value","sel","range","window","getSelection","rangeCount","getRangeAt","textToReplace","cloneContents","textContent","toUpperCase","toLowerCase","deleteContents","insertNode","createTextNode","selection","createRange","text","WYSIWYGController","italic","bold","console","log","underscore","color","case","WYSIWYGView","italicBtn","boldBtn","underBtn","colorBtn","caseBtn","field","countSpan","WordCountWorker","Worker","initAllListeners","postMessage","innerText","data","addEventListener","toggleItalic","toggleBold","toggleUnderScore","changeColor","toggleCase","renderWordCount","bind","triggerWordCount","getElementById","a"],"mappings":"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","file":"src.e31bb0bc.js","sourceRoot":"..\\src","sourcesContent":["class WYSIWYGModel {\r\n  italic() {\r\n    document.execCommand(\"italic\");\r\n  }\r\n\r\n  bold() {\r\n    document.execCommand(\"bold\");\r\n  }\r\n\r\n  underscore() {\r\n    document.execCommand(\"underline\");\r\n  }\r\n\r\n  color(e) {\r\n    document.execCommand(\"styleWithCSS\", false, true);\r\n    document.execCommand(\"foreColor\", false, e.target.value);\r\n  }\r\n\r\n  case() {\r\n    let sel, range;\r\n    if (window.getSelection) {\r\n      sel = window.getSelection();\r\n      if (sel.rangeCount) {\r\n        range = sel.getRangeAt(0);\r\n        let textToReplace = `${range.cloneContents().textContent}`;\r\n        if (textToReplace === textToReplace.toUpperCase()) {\r\n          textToReplace = textToReplace.toLowerCase();\r\n        } else {\r\n          textToReplace = textToReplace.toUpperCase();\r\n        }\r\n        range.deleteContents();\r\n        range.insertNode(document.createTextNode(textToReplace));\r\n      }\r\n    } else if (document.selection && document.selection.createRange) {\r\n      range = document.selection.createRange();\r\n      let textToReplace = range.cloneContents();\r\n      if (textToReplace === textToReplace.toUpperCase()) {\r\n        textToReplace = textToReplace.toLowerCase();\r\n      } else {\r\n        textToReplace = textToReplace.toUpperCase();\r\n      }\r\n      range.text = textToReplace;\r\n    }\r\n  }\r\n}\r\n\r\nexport default new WYSIWYGModel();\r\n","import WYSIWYGModel from \"./model\";\r\n\r\nclass WYSIWYGController {\r\n  constructor() {\r\n    this.WYSIWYGModel = WYSIWYGModel;\r\n  }\r\n\r\n  toggleItalic(e) {\r\n    WYSIWYGModel.italic(e);\r\n  }\r\n\r\n  toggleBold(e) {\r\n    WYSIWYGModel.bold(e);\r\n  }\r\n\r\n  toggleUnderScore(e) {\r\n    console.log(e);\r\n    WYSIWYGModel.underscore(e);\r\n  }\r\n\r\n  changeColor(e) {\r\n    WYSIWYGModel.color(e);\r\n  }\r\n\r\n  toggleCase(e) {\r\n    WYSIWYGModel.case(e);\r\n  }\r\n}\r\n\r\nexport default new WYSIWYGController();\r\n","import WYSIWYGController from \"./controller\";\r\n\r\nclass WYSIWYGView {\r\n  constructor({\r\n    italicBtn,\r\n    boldBtn,\r\n    underBtn,\r\n    colorBtn,\r\n    caseBtn,\r\n    field,\r\n    countSpan,\r\n  }) {\r\n    this.italicBtn = italicBtn;\r\n    this.boldBtn = boldBtn;\r\n    this.underBtn = underBtn;\r\n    this.colorBtn = colorBtn;\r\n    this.caseBtn = caseBtn;\r\n    this.field = field;\r\n    this.countSpan = countSpan;\r\n\r\n    this.WordCountWorker = new Worker(\"./wordCountWorker.js\");\r\n\r\n    this.initAllListeners();\r\n    this.WordCountWorker.postMessage(field.innerText);\r\n  }\r\n\r\n  triggerWordCount(e) {\r\n    const text = e.target.innerText;\r\n    this.WordCountWorker.postMessage(text);\r\n  }\r\n\r\n  renderWordCount({ data }) {\r\n    this.countSpan.innerText = data;\r\n  }\r\n\r\n  initAllListeners() {\r\n    this.italicBtn.addEventListener(\"click\", WYSIWYGController.toggleItalic);\r\n    this.boldBtn.addEventListener(\"click\", WYSIWYGController.toggleBold);\r\n    this.underBtn.addEventListener(\"click\", WYSIWYGController.toggleUnderScore);\r\n    this.colorBtn.addEventListener(\"change\", WYSIWYGController.changeColor);\r\n    this.caseBtn.addEventListener(\"click\", WYSIWYGController.toggleCase);\r\n\r\n    this.WordCountWorker.addEventListener(\r\n      \"message\",\r\n      this.renderWordCount.bind(this)\r\n    );\r\n    this.field.addEventListener(\"input\", this.triggerWordCount.bind(this));\r\n  }\r\n}\r\n\r\nexport default WYSIWYGView;\r\n","import WYSIWYGView from \"./js/view\";\r\n\r\nconst boldBtn = document.getElementById(\"boldBtn\");\r\nconst italicBtn = document.getElementById(\"italicBtn\");\r\nconst underBtn = document.getElementById(\"underBtn\");\r\nconst colorBtn = document.getElementById(\"colorBtn\");\r\nconst caseBtn = document.getElementById(\"caseBtn\");\r\nconst field = document.getElementById(\"field\");\r\nconst countSpan = document.getElementById(\"countSpan\");\r\n\r\nconst a = new WYSIWYGView({\r\n  boldBtn,\r\n  italicBtn,\r\n  underBtn,\r\n  colorBtn,\r\n  caseBtn,\r\n  field,\r\n  countSpan,\r\n});\r\n"]}